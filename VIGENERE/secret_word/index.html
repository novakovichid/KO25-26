<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="../../section-auth.js"></script>
  <script>window.SectionAuth && window.SectionAuth.guardPage("VIGENERE");</script>
  <title>MyVideo — вход</title>
  <style>
    :root{
      --bg:#0b1220;
      --text:#eaf0ff;
      --muted:#b7c2e6;
      --accent:#4aa3ff;
      --shadow:0 14px 40px rgba(0,0,0,.35);
      --r:16px;
      --font: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 15% 0%, rgba(74,163,255,.16), transparent 55%),
        radial-gradient(900px 600px at 85% 10%, rgba(43,213,118,.10), transparent 60%),
        linear-gradient(180deg, #070b15, var(--bg));
      min-height:100vh;
    }

    /* Layout */
    .layout{
      display:grid;
      grid-template-columns: 1fr 380px;
      gap:16px;
      max-width:1240px;
      margin:0 auto;
      padding:16px;
    }
    @media (max-width: 1020px){
      .layout{ grid-template-columns: 1fr; }
      .devtools{ position:relative; top:auto; height:auto; }
    }

    /* "Website" area */
    .site{
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.03);
      box-shadow: var(--shadow);
      overflow:hidden;
      min-height: 660px;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 14px;
      border-bottom:1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.22);
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:900;
      letter-spacing:.2px;
    }
    .logo{
      width:30px;height:30px;border-radius:10px;
      background: linear-gradient(135deg, rgba(74,163,255,.95), rgba(43,213,118,.85));
      box-shadow: 0 10px 18px rgba(0,0,0,.22);
    }
    .nav{
      display:flex; gap:10px; flex-wrap:wrap;
      color:var(--muted); font-size:12px;
    }
    .nav span{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }

    .content{
      position:relative;
      padding:18px;
    }

    .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:14px;
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(17,26,46,.85);
      box-shadow: 0 12px 30px rgba(0,0,0,.22);
      padding:16px;
      position:relative;
      overflow:hidden;
      z-index: 20; /* чтобы карточки уверенно были выше "спрятанного" */
    }
    .card h2{ margin:0 0 6px; font-size:18px; }
    .card p{ margin:0; color:var(--muted); font-size:13px; line-height:1.45; }

    .form{
      display:grid;
      gap:10px;
      margin-top:12px;
    }
    label{
      display:grid;
      gap:6px;
      color:var(--muted);
      font-size:12px;
    }
    input[type="text"], input[type="password"]{
      width:100%;
      padding:11px 12px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: var(--text);
      outline:none;
    }
    .btnrow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-top:6px;
      flex-wrap:wrap;
    }
    .btn{
      cursor:pointer;
      border-radius: 12px;
      padding:11px 14px;
      border:1px solid rgba(74,163,255,.50);
      background: rgba(74,163,255,.18);
      color:var(--text);
      font-weight:900;
      white-space:nowrap;
    }
    .btn:active{ transform: translateY(1px); }
    .note{ font-size:12px; color:var(--muted); }

    .banner{
      border-radius: var(--r);
      padding:14px 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(17,26,46,.85);
      color: var(--muted);
      font-size:13px;
      line-height:1.45;
      position:relative;
      overflow:hidden;
      z-index: 20;
    }
    .tiles{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:12px;
      margin-top:14px;
    }
    @media (max-width: 600px){
      .tiles{ grid-template-columns: 1fr; }
    }
    .tile{
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(17,26,46,.85);
      padding:12px;
      min-height: 110px;
      position:relative;
      overflow:hidden;
      z-index: 20;
    }
    .tile strong{ display:block; margin-bottom:6px; font-size:13px; }
    .tile span{ color:var(--muted); font-size:12.5px; line-height:1.45; }

    .footerline{
      margin-top:14px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      color:var(--muted);
      font-size:12px;
      opacity:.9;
    }

    /* -----------------------
       HARD hidden word system
       ----------------------- */

    /* Спрятанное слово: по умолчанию НЕ видно (цвет == фон), z-index минимальный, позиция в центре */
    .secretWord{
      position:absolute;
      left: 50%;
      top: 52%;
      transform: translate(-50%, -50%);
      font-weight:1000;
      font-size: 88px;
      line-height: .95;
      letter-spacing: 6px;
      text-transform: uppercase;
      user-select:none;
      pointer-events:none;

      color: #0b1220;   /* совпадает с фоном */
      z-index: 0;       /* минимальный */
      opacity: 1;
      display: none;    /* изначально "пропало" */
      white-space:nowrap;
    }

    /* Непрозрачные блоки сверху (ничего не просвечивает) */
    .blockA, .blockB, .blockC{
      position:absolute;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgb(10,16,30); /* полностью непрозрачно */
      box-shadow: 0 18px 46px rgba(0,0,0,.45);
      z-index: 60;
      overflow:hidden;
    }
    .blockA{ inset: 140px 22px auto 22px; height: 170px; }
    .blockB{ inset: 330px 48px auto 48px; height: 120px; }
    .blockC{ inset: 468px 30px auto 30px; height: 92px; }

    .blockHead{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:10px 12px;
      border-bottom:1px solid rgba(255,255,255,.08);
      color:var(--muted);
      font-size:12px;
    }
    .blockBody{
      padding:12px;
      color:var(--muted);
      font-size:12.5px;
      line-height:1.45;
    }

    /* Fake DevTools */
    .devtools{
      position:sticky;
      top:16px;
      height: calc(100vh - 32px);
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.08);
      background: rgba(16,26,47,.72);
      box-shadow: var(--shadow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }
    .dtHead{
      padding:12px 14px;
      border-bottom:1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.22);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .dtHead strong{ font-size:13px; letter-spacing:.2px; }
    .dtHead .mini{ color:var(--muted); font-size:11px; white-space:nowrap; }
    .dtBody{
      padding:14px;
      overflow:auto;
      display:grid;
      gap:12px;
    }

    .box{
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.16);
      padding:12px;
    }
    .box h3{
      margin:0 0 8px;
      font-size:12px;
      color:var(--text);
    }
    .box p{
      margin:0 0 10px;
      font-size:12px;
      color:var(--muted);
      line-height:1.35;
    }

    /* Selector moved above settings */
    .selectorBox{
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      padding:10px 12px;
      color: var(--muted);
      font-size:12px;
      line-height:1.35;
    }
    .selectorTitle{
      color: var(--text);
      font-weight:900;
      margin-bottom:8px;
      font-size:12px;
    }

    .row2{
      display:grid;
      gap:8px;
    }
    .row2 label{
      margin:0;
      font-size:11.5px;
      color:var(--muted);
    }
    select, input[type="number"], input[type="range"], input[type="color"]{
      width:100%;
    }
    select, input[type="number"]{
      padding:9px 10px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: var(--text);
      outline:none;
    }
    input[type="range"]{ accent-color: var(--accent); }

    .dtBtns{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top:8px;
    }
    .dtBtn{
      cursor:pointer;
      border-radius: 12px;
      padding:9px 10px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--text);
      font-weight:900;
      font-size:12px;
    }
    .dtBtn.primary{
      border-color: rgba(74,163,255,.50);
      background: rgba(74,163,255,.18);
    }

    .status{
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      padding:10px 12px;
      color: var(--muted);
      font-size:12px;
      line-height:1.35;
    }

    .back-menu{
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 1200;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.25);
      background: rgba(15,118,110,.92);
      color:#fff;
      text-decoration:none;
      font-weight:800;
      padding:10px 14px;
      box-shadow: 0 10px 22px rgba(0,0,0,.28);
    }
    .back-menu:hover{
      background: rgba(13,148,136,.95);
    }
  </style>
</head>
<body>
  <div class="layout">
    <!-- LEFT: "site" -->
    <main class="site" aria-label="Сайт, где нужно восстановить слово капчи">
      <div class="topbar">
        <div class="brand">
          <img class="logo" src="logo.png" alt="MyVideo" />
          MyVideo
        </div>
        <div class="nav" aria-hidden="true">
          <span>Загрузка</span><span>Канал</span><span>Статистика</span>
        </div>
      </div>

      <div class="content">
        <div class="grid">
          <section class="card" id="loginCard" data-title="Форма входа">
            <h2>Вход в аккаунт</h2>
            <p>Для входа требуется пройти проверку безопасности.</p>

            <form class="form" onsubmit="return false;">
              <label>
                Логин или почта
                <input type="text" placeholder="example@mail.ru" />
              </label>
              <label>
                Пароль
                <input type="password" placeholder="••••••••" />
              </label>

              <div class="btnrow">
                <span class="note">Проверка безопасности недоступна: поле не отображается.</span>
                <button class="btn" type="submit">Войти</button>
              </div>
            </form>

            <div class="footerline">
              <span>© MyVideo</span>
              <span>Поддержка • Политика</span>
            </div>
          </section>

          <section class="card" id="infoCard" data-title="Инфоблок">
            <h2>Новости</h2>
            <p>Обновление интерфейса завершено.</p>

            <div class="banner" id="banner" data-title="Лента">
              Сервис временно ограничил вход для аккаунтов без проверки безопасности.
            </div>

            <div class="tiles">
              <div class="tile" id="tileA" data-title="Блок A">
                <strong>Черновики</strong>
                <span>Сохраняйте версии перед публикацией.</span>
              </div>
              <div class="tile" id="tileB" data-title="Блок B">
                <strong>Доступ</strong>
                <span>Проверяйте права доступа к материалам.</span>
              </div>
              <div class="tile" id="tileC" data-title="Блок C">
                <strong>Загрузка</strong>
                <span>Обновите страницу при ошибке.</span>
              </div>
              <div class="tile" id="tileD" data-title="Блок E">
                <strong>Безопасность</strong>
                <span>Рекомендуется обновить пароль.</span>
              </div>
            </div>
          </section>
        </div>

        <!-- Непонятно названный блок, скрыт по умолчанию -->
        <div id="captchaBox" class="secretWord" data-title="Блок D">
          <!-- Поменяй слово при необходимости -->
          БЕЗОПАСНОСТЬ
        </div>

        <!-- Три непрозрачных блока (без подсказок, без слова "слой") -->
        <div class="blockA" id="blockA" data-title="Блок F">
          <div class="blockHead"><span>Системное окно</span><span>F</span></div>
          <div class="blockBody">Панель интерфейса</div>
        </div>

        <div class="blockB" id="blockB" data-title="Блок G">
          <div class="blockHead"><span>Сервисный модуль</span><span>G</span></div>
          <div class="blockBody">Компонент страницы</div>
        </div>

        <div class="blockC" id="blockC" data-title="Блок H">
          <div class="blockHead"><span>Виджет</span><span>H</span></div>
          <div class="blockBody">Элемент интерфейса</div>
        </div>
      </div>
    </main>

    <!-- RIGHT: Fake DevTools -->
    <aside class="devtools" aria-label="Панель разработчика (учебная)">
      <div class="dtHead">
        <strong>Панель разработчика</strong>
        <div class="mini">Свойства элемента</div>
      </div>

      <div class="dtBody">
        <div class="selectorBox" id="selectedInfo">
          <div class="selectorTitle">Выбранный элемент</div>
          <div id="selName">—</div>
        </div>

        <div class="box">
          <h3>Выбор элемента</h3>
          <div class="row2">
            <label for="target">Элемент</label>
            <select id="target">
              <option value="loginCard">Форма входа</option>
              <option value="infoCard">Инфоблок</option>
              <option value="banner">Лента</option>
              <option value="tileA">Блок A</option>
              <option value="tileB">Блок B</option>
              <option value="tileC">Блок C</option>
              <option value="tileD">Блок E</option>
              <option value="blockA">Блок F</option>
              <option value="blockB">Блок G</option>
              <option value="blockC">Блок H</option>
              <option value="captchaBox">Блок D</option>
            </select>
          </div>

          <div class="dtBtns">
            <button class="dtBtn primary" id="resetAll">Сбросить всё</button>
          </div>
        </div>

        <div class="box">
          <h3>Видимость</h3>
          <div class="row2">
            <label for="displaySel">display</label>
            <select id="displaySel">
              <option value="block">block</option>
              <option value="none">none</option>
            </select>

            <label for="opacity">opacity: <span id="opacityVal">1</span></label>
            <input id="opacity" type="range" min="0" max="1" step="0.05" value="1" />

            <label for="zindex">z-index</label>
            <input id="zindex" type="number" value="0" step="1" />
          </div>
        </div>

        <div class="box">
          <h3>Цвета</h3>
          <div class="row2">
            <label for="txtColor">color</label>
            <input id="txtColor" type="color" value="#eaf0ff" />

            <label for="bgColor">background-color</label>
            <input id="bgColor" type="color" value="#111a2e" />
          </div>
        </div>

        <div class="box">
          <h3>Позиция</h3>
          <div class="row2">
            <label for="posSel">position</label>
            <select id="posSel">
              <option value="">(по умолчанию)</option>
              <option value="relative">relative</option>
              <option value="absolute">absolute</option>
              <option value="fixed">fixed</option>
            </select>

            <label for="topN">top (px)</label>
            <input id="topN" type="number" value="0" step="5" />

            <label for="leftN">left (px)</label>
            <input id="leftN" type="number" value="0" step="5" />
          </div>
        </div>

        <div class="status" id="status">
          Выберите элемент и изменяйте свойства.
        </div>
      </div>
    </aside>
  </div>
  <a class="back-menu" href="../index.html">Назад</a>

  <script>
    const $ = (id) => document.getElementById(id);
    const statusEl = $("status");
    const selNameEl = $("selName");

    const targets = {
      loginCard: $("loginCard"),
      infoCard: $("infoCard"),
      banner: $("banner"),
      tileA: $("tileA"),
      tileB: $("tileB"),
      tileC: $("tileC"),
      tileD: $("tileD"),
      blockA: $("blockA"),
      blockB: $("blockB"),
      blockC: $("blockC"),
      captchaBox: $("captchaBox"),
    };

    const defaults = {};
    for (const [key, el] of Object.entries(targets)) {
      defaults[key] = {
        display: el.style.display || "",
        opacity: el.style.opacity || "",
        zIndex: el.style.zIndex || "",
        color: el.style.color || "",
        backgroundColor: el.style.backgroundColor || "",
        position: el.style.position || "",
        top: el.style.top || "",
        left: el.style.left || "",
        transform: el.style.transform || "",
      };
    }

    const targetSel  = $("target");
    const displaySel = $("displaySel");
    const opacity    = $("opacity");
    const opacityVal = $("opacityVal");
    const zindex     = $("zindex");
    const txtColor   = $("txtColor");
    const bgColor    = $("bgColor");
    const posSel     = $("posSel");
    const topN       = $("topN");
    const leftN      = $("leftN");

    function rgbToHex(rgb) {
      const m = rgb && rgb.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/i);
      if (!m) return null;
      const r = Number(m[1]).toString(16).padStart(2,"0");
      const g = Number(m[2]).toString(16).padStart(2,"0");
      const b = Number(m[3]).toString(16).padStart(2,"0");
      return `#${r}${g}${b}`;
    }

    function getActiveEl(){
      const key = targetSel.value;
      return { key, el: targets[key] };
    }

    function updateSelectedInfo(){
      const { key, el } = getActiveEl();
      selNameEl.textContent = `${el.getAttribute("data-title") || key} (id: ${key})`;
    }

    function syncUIFromEl(){
      const {el} = getActiveEl();
      updateSelectedInfo();

      const disp = getComputedStyle(el).display;
      displaySel.value = (disp === "none") ? "none" : "block";

      const op = parseFloat(getComputedStyle(el).opacity || "1");
      opacity.value = String(op);
      opacityVal.textContent = opacity.value;

      const zi = getComputedStyle(el).zIndex;
      zindex.value = (zi === "auto") ? 0 : parseInt(zi, 10) || 0;

      txtColor.value = rgbToHex(getComputedStyle(el).color) || "#eaf0ff";
      bgColor.value  = rgbToHex(getComputedStyle(el).backgroundColor) || "#111a2e";

      posSel.value = el.style.position || "";
      topN.value = parseInt(el.style.top || "0", 10) || 0;
      leftN.value = parseInt(el.style.left || "0", 10) || 0;

      statusEl.textContent = "Выберите элемент и изменяйте свойства.";
    }

    function applyStyles(){
      const {el} = getActiveEl();

      el.style.display = (displaySel.value === "none") ? "none" : "block";

      el.style.opacity = opacity.value;
      opacityVal.textContent = opacity.value;

      el.style.zIndex = String(parseInt(zindex.value || "0", 10));

      el.style.color = txtColor.value;
      el.style.backgroundColor = bgColor.value;

      if (posSel.value === "") {
        el.style.position = "";
        el.style.top = "";
        el.style.left = "";
      } else {
        el.style.position = posSel.value;
        el.style.top = `${parseInt(topN.value || "0", 10)}px`;
        el.style.left = `${parseInt(leftN.value || "0", 10)}px`;
      }

      updateSelectedInfo();
    }

    function resetAll(){
      for (const [key, el] of Object.entries(targets)) {
        const d = defaults[key];
        el.style.display = d.display;
        el.style.opacity = d.opacity;
        el.style.zIndex = d.zIndex;
        el.style.color = d.color;
        el.style.backgroundColor = d.backgroundColor;
        el.style.position = d.position;
        el.style.top = d.top;
        el.style.left = d.left;
        el.style.transform = d.transform;
      }
      targetSel.value = "loginCard";
      syncUIFromEl();
    }

    targetSel.addEventListener("change", syncUIFromEl);
    $("resetAll").addEventListener("click", resetAll);

    [displaySel, opacity, zindex, txtColor, bgColor, posSel, topN, leftN].forEach(ctrl => {
      ctrl.addEventListener("input", applyStyles);
      ctrl.addEventListener("change", applyStyles);
    });

    // Init
    targetSel.value = "loginCard";
    syncUIFromEl();
  </script>
</body>
</html>
