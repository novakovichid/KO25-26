# Local Agent Rules

- После каждой правки сразу делать коммит.
- При каждом коммите обновлять память в этом же файле (`AGENTS.md`).

## Memory

- 2026-02-19: В `LOVELACE/editor.html` текст подзадач 2.1/2.2 переведен на три строки формата «Для значения X нужно получить значение Y.» и отображается через `<p>`.
- 2026-02-19: В `LOVELACE/editor.html` для подзадач с эталоном (`2.1/2.2`) статус «выполнены успешно» показывается только при точном совпадении эталонных тестов и выходов.
- 2026-02-19: Для `Задание 4 / Подзадача 4.1` в `LOVELACE/editor.html` добавлен текст-напоминание про задачу «второй максимум», а код по умолчанию очищен.
- 2026-02-19: Для `Подзадач 1.1–1.4` в `LOVELACE/editor.html` добавлены тексты «Проверить выходные данные для значения X.» (11, 25, 6, 14).
- 2026-02-19: Добавлен локальный файл `LOVELACE/etalon-solutions.local.txt` с эталонами и кодовыми фразами для `2.1/2.2`; путь внесен в `.gitignore`.
- 2026-02-19: В `LOVELACE/etalon-solutions.local.txt` для `2.1/2.2` добавлены эмодзи-программы решений (`x+4` и `x/2`).
- 2026-02-20: `section-auth.js` расширен профилями `LOVELACE` (`CLASSIC`/`ROBOT`) и профильной проверкой в `guardPage`; маршрутизация Lovelace переведена через `LOVELACE/index.html`, а `LOVELACE/editor.html` закрыт профилем `CLASSIC`.
- 2026-02-20: Добавлены `LOVELACE/editor-robot.html`, `LOVELACE/js/lab-shell.js`, `LOVELACE/js/domain-robot.js` и `LOVELACE/js/domain-classic.js`; robot-ветка работает без переменных, с keycap-цифрами, растительными цветами и отдельным DSL команд/предикатов.
- 2026-02-20: `LOVELACE/js/domain-classic.js` обновлен со stub до полноценного classic-движка (парсер и исполнение команд текущего формата).
- 2026-02-20: Добавлена локальная robot-справка `dev/lovelace/emoji-robot-reference.local.html`, путь внесен в `.gitignore`; на клиентской robot-странице подтверждено 5 примеров.
- 2026-02-20: В `LOVELACE/editor-robot.html` убрана панель ручных тестов, добавлена визуализация поля сценария; сценарии переведены в скрытые закодированные blobs, а проверка успеха идет только при запуске через `fixedTestsByScenario` и снимки состояния (`snapshot`) из `LOVELACE/js/domain-robot.js`.
- 2026-02-20: В robot-ветке (`LOVELACE/editor-robot.html`) добавлен toggle микроанимации движения робота, цветовые подсказки из легенды поля убраны, а примеры усложнены; `LOVELACE/js/domain-robot.js` теперь возвращает трассу шагов (`trace`), и `LOVELACE/js/lab-shell.js` передает лимит `maxTracePoints` в runtime.
- 2026-02-20: В `LOVELACE/editor-robot.html` скрыт блок `Выходные данные` (панель 5) для robot-ветки; технический контейнер `#testOutputs` сохранен в DOM, чтобы не ломать общий shell.
